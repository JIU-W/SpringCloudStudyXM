11:13:45:951  INFO 5980 --- [main] com.hmall.gateway.GatewayApplication     : No active profile set, falling back to 1 default profile: "default"
11:13:46:636  INFO 5980 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=5ec3ccab-e2b1-3334-81ff-62e6edff165d
11:13:46:682  INFO 5980 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.cloud.client.loadbalancer.reactive.LoadBalancerBeanPostProcessorAutoConfiguration' of type [org.springframework.cloud.client.loadbalancer.reactive.LoadBalancerBeanPostProcessorAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
11:13:46:682  INFO 5980 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.cloud.client.loadbalancer.reactive.LoadBalancerBeanPostProcessorAutoConfiguration$ReactorDeferringLoadBalancerFilterConfig' of type [org.springframework.cloud.client.loadbalancer.reactive.LoadBalancerBeanPostProcessorAutoConfiguration$ReactorDeferringLoadBalancerFilterConfig] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
11:13:46:684  INFO 5980 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'reactorDeferringLoadBalancerExchangeFilterFunction' of type [org.springframework.cloud.client.loadbalancer.reactive.DeferringLoadBalancerExchangeFilterFunction] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
11:13:47:246 DEBUG 5980 --- [main] c.h.gateway.route.DynamicRouteLoader     : 监听到路由配置变更，null
11:13:48:874  INFO 5980 --- [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [After]
11:13:48:875  INFO 5980 --- [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Before]
11:13:48:875  INFO 5980 --- [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Between]
11:13:48:875  INFO 5980 --- [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Cookie]
11:13:48:875  INFO 5980 --- [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Header]
11:13:48:876  INFO 5980 --- [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Host]
11:13:48:876  INFO 5980 --- [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Method]
11:13:48:876  INFO 5980 --- [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Path]
11:13:48:876  INFO 5980 --- [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Query]
11:13:48:876  INFO 5980 --- [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [ReadBody]
11:13:48:876  INFO 5980 --- [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [RemoteAddr]
11:13:48:877  INFO 5980 --- [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [XForwardedRemoteAddr]
11:13:48:877  INFO 5980 --- [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Weight]
11:13:48:877  INFO 5980 --- [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [CloudFoundryRouteService]
11:13:50:632  INFO 5980 --- [main] com.alibaba.nacos.common.remote.client   : [RpcClientFactory] create a new rpc client of 48ce6328-8163-4ffe-b679-3a49ad202ae4
11:13:50:633  INFO 5980 --- [main] com.alibaba.nacos.common.remote.client   : [48ce6328-8163-4ffe-b679-3a49ad202ae4] RpcClient init label, labels = {module=naming, source=sdk}
11:13:50:637  INFO 5980 --- [main] com.alibaba.nacos.common.remote.client   : [48ce6328-8163-4ffe-b679-3a49ad202ae4] RpcClient init, ServerListFactory = com.alibaba.nacos.client.naming.core.ServerListManager
11:13:50:637  INFO 5980 --- [main] com.alibaba.nacos.common.remote.client   : [48ce6328-8163-4ffe-b679-3a49ad202ae4] Registry connection listener to current client:com.alibaba.nacos.client.naming.remote.gprc.redo.NamingGrpcRedoService
11:13:50:639  INFO 5980 --- [main] com.alibaba.nacos.common.remote.client   : [48ce6328-8163-4ffe-b679-3a49ad202ae4] Register server push request handler:com.alibaba.nacos.client.naming.remote.gprc.NamingPushRequestHandler
11:13:50:640  INFO 5980 --- [main] com.alibaba.nacos.common.remote.client   : [48ce6328-8163-4ffe-b679-3a49ad202ae4] Try to connect to server on start up, server: {serverIp = '192.168.126.131', server main port = 8848}
11:13:50:788  INFO 5980 --- [main] com.alibaba.nacos.common.remote.client   : [48ce6328-8163-4ffe-b679-3a49ad202ae4] Success to connect to server [192.168.126.131:8848] on start up, connectionId = 1727147692668_192.168.126.1_52214
11:13:50:789  INFO 5980 --- [main] com.alibaba.nacos.common.remote.client   : [48ce6328-8163-4ffe-b679-3a49ad202ae4] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
11:13:50:789  INFO 5980 --- [com.alibaba.nacos.client.remote.worker] com.alibaba.nacos.common.remote.client   : [48ce6328-8163-4ffe-b679-3a49ad202ae4] Notify connected event to listeners.
11:13:50:789  INFO 5980 --- [main] com.alibaba.nacos.common.remote.client   : [48ce6328-8163-4ffe-b679-3a49ad202ae4] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$461/0x0000000800446440
11:13:51:381  INFO 5980 --- [nacos-grpc-client-executor-5] com.alibaba.nacos.common.remote.client   : [48ce6328-8163-4ffe-b679-3a49ad202ae4] Receive server push request, request = NotifySubscriberRequest, requestId = 5
11:13:51:396  INFO 5980 --- [nacos-grpc-client-executor-5] com.alibaba.nacos.common.remote.client   : [48ce6328-8163-4ffe-b679-3a49ad202ae4] Ack server push request, request = NotifySubscriberRequest, requestId = 5
11:13:51:867  INFO 5980 --- [main] o.s.b.web.embedded.netty.NettyWebServer  : Netty started on port 8080
11:13:53:812  INFO 5980 --- [main] c.a.c.n.registry.NacosServiceRegistry    : nacos registry, DEFAULT_GROUP gateway 192.168.255.1:8080 register finished
11:13:53:846  INFO 5980 --- [main] com.hmall.gateway.GatewayApplication     : Started GatewayApplication in 12.889 seconds (JVM running for 13.932)
11:13:53:855  INFO 5980 --- [main] c.a.c.n.refresh.NacosContextRefresher    : [Nacos Config] Listening config: dataId=gateway.yaml, group=DEFAULT_GROUP
11:13:53:858  INFO 5980 --- [main] c.a.c.n.refresh.NacosContextRefresher    : [Nacos Config] Listening config: dataId=gateway, group=DEFAULT_GROUP
11:13:54:385  INFO 5980 --- [nacos-grpc-client-executor-10] com.alibaba.nacos.common.remote.client   : [48ce6328-8163-4ffe-b679-3a49ad202ae4] Receive server push request, request = NotifySubscriberRequest, requestId = 6
11:13:54:432  INFO 5980 --- [nacos-grpc-client-executor-10] com.alibaba.nacos.common.remote.client   : [48ce6328-8163-4ffe-b679-3a49ad202ae4] Ack server push request, request = NotifySubscriberRequest, requestId = 6
11:17:30:382  INFO 5980 --- [nacos-grpc-client-executor-65] com.alibaba.nacos.common.remote.client   : [bbee9e94-5571-47cc-aa05-593e29651fa3_config-0] Receive server push request, request = ConfigChangeNotifyRequest, requestId = 12
11:17:30:382  INFO 5980 --- [nacos-grpc-client-executor-65] com.alibaba.nacos.common.remote.client   : [bbee9e94-5571-47cc-aa05-593e29651fa3_config-0] Ack server push request, request = ConfigChangeNotifyRequest, requestId = 12
11:17:30:469 DEBUG 5980 --- [nacos.client.cachedata.internal.notifier] c.h.gateway.route.DynamicRouteLoader     : 监听到路由配置变更，[
    {
        "id": "item",
        "predicates": [{
            "name": "Path",
            "args": {"_genkey_0":"/items/**", "_genkey_1":"/search/**"}
        }],
        "filters": [],
        "uri": "lb://item-service"
    },
    {
        "id": "cart",
        "predicates": [{
            "name": "Path",
            "args": {"_genkey_0":"/carts/**"}
        }],
        "filters": [],
        "uri": "lb://cart-service"
    },
    {
        "id": "user",
        "predicates": [{
            "name": "Path",
            "args": {"_genkey_0":"/users/**", "_genkey_1":"/addresses/**"}
        }],
        "filters": [],
        "uri": "lb://user-service"
    },
    {
        "id": "trade",
        "predicates": [{
            "name": "Path",
            "args": {"_genkey_0":"/orders/**"}
        }],
        "filters": [],
        "uri": "lb://trade-service"
    },
    {
        "id": "pay",
        "predicates": [{
            "name": "Path",
            "args": {"_genkey_0":"/pay-orders/**"}
        }],
        "filters": [],
        "uri": "lb://pay-service"
    }
]
11:18:17:169  INFO 5980 --- [nacos-grpc-client-executor-74] com.alibaba.nacos.common.remote.client   : [48ce6328-8163-4ffe-b679-3a49ad202ae4] Receive server push request, request = NotifySubscriberRequest, requestId = 13
11:18:17:169  INFO 5980 --- [nacos-grpc-client-executor-74] com.alibaba.nacos.common.remote.client   : [48ce6328-8163-4ffe-b679-3a49ad202ae4] Ack server push request, request = NotifySubscriberRequest, requestId = 13
11:30:20:434  INFO 5980 --- [com.alibaba.nacos.client.remote.worker] com.alibaba.nacos.common.remote.client   : [48ce6328-8163-4ffe-b679-3a49ad202ae4] Server healthy check fail, currentConnection = 1727147692668_192.168.126.1_52214
11:30:20:434  INFO 5980 --- [com.alibaba.nacos.client.remote.worker] com.alibaba.nacos.common.remote.client   : [48ce6328-8163-4ffe-b679-3a49ad202ae4] Try to reconnect to a new server, server is  not appointed, will choose a random server.
11:30:20:434 ERROR 5980 --- [nacos-grpc-client-executor-174] c.a.n.c.remote.client.grpc.GrpcClient    : [1727147692668_192.168.126.1_52214]Request stream error, switch server,error={}

com.alibaba.nacos.shaded.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at com.alibaba.nacos.shaded.io.grpc.Status.asRuntimeException(Status.java:533) ~[nacos-client-2.0.4.jar:na]
	at com.alibaba.nacos.shaded.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:442) ~[nacos-client-2.0.4.jar:na]
	at com.alibaba.nacos.shaded.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39) ~[nacos-client-2.0.4.jar:na]
	at com.alibaba.nacos.shaded.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23) ~[nacos-client-2.0.4.jar:na]
	at com.alibaba.nacos.shaded.io.grpc.ForwardingClientCallListener$SimpleForwardingClientCallListener.onClose(ForwardingClientCallListener.java:40) ~[nacos-client-2.0.4.jar:na]
	at com.alibaba.nacos.shaded.io.grpc.internal.CensusStatsModule$StatsClientInterceptor$1$1.onClose(CensusStatsModule.java:700) ~[nacos-client-2.0.4.jar:na]
	at com.alibaba.nacos.shaded.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39) ~[nacos-client-2.0.4.jar:na]
	at com.alibaba.nacos.shaded.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23) ~[nacos-client-2.0.4.jar:na]
	at com.alibaba.nacos.shaded.io.grpc.ForwardingClientCallListener$SimpleForwardingClientCallListener.onClose(ForwardingClientCallListener.java:40) ~[nacos-client-2.0.4.jar:na]
	at com.alibaba.nacos.shaded.io.grpc.internal.CensusTracingModule$TracingClientInterceptor$1$1.onClose(CensusTracingModule.java:399) ~[nacos-client-2.0.4.jar:na]
	at com.alibaba.nacos.shaded.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:510) ~[nacos-client-2.0.4.jar:na]
	at com.alibaba.nacos.shaded.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:66) ~[nacos-client-2.0.4.jar:na]
	at com.alibaba.nacos.shaded.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl.close(ClientCallImpl.java:630) ~[nacos-client-2.0.4.jar:na]
	at com.alibaba.nacos.shaded.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl.access$700(ClientCallImpl.java:518) ~[nacos-client-2.0.4.jar:na]
	at com.alibaba.nacos.shaded.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:692) ~[nacos-client-2.0.4.jar:na]
	at com.alibaba.nacos.shaded.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:681) ~[nacos-client-2.0.4.jar:na]
	at com.alibaba.nacos.shaded.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37) ~[nacos-client-2.0.4.jar:na]
	at com.alibaba.nacos.shaded.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:123) ~[nacos-client-2.0.4.jar:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:834) ~[na:na]
Caused by: java.io.IOException: 远程主机强迫关闭了一个现有的连接。
	at java.base/sun.nio.ch.SocketDispatcher.read0(Native Method) ~[na:na]
	at java.base/sun.nio.ch.SocketDispatcher.read(SocketDispatcher.java:43) ~[na:na]
	at java.base/sun.nio.ch.IOUtil.readIntoNativeBuffer(IOUtil.java:276) ~[na:na]
	at java.base/sun.nio.ch.IOUtil.read(IOUtil.java:233) ~[na:na]
	at java.base/sun.nio.ch.IOUtil.read(IOUtil.java:223) ~[na:na]
	at java.base/sun.nio.ch.SocketChannelImpl.read(SocketChannelImpl.java:358) ~[na:na]
	at com.alibaba.nacos.shaded.io.grpc.netty.shaded.io.netty.buffer.PooledByteBuf.setBytes(PooledByteBuf.java:247) ~[nacos-client-2.0.4.jar:na]
	at com.alibaba.nacos.shaded.io.grpc.netty.shaded.io.netty.buffer.AbstractByteBuf.writeBytes(AbstractByteBuf.java:1140) ~[nacos-client-2.0.4.jar:na]
	at com.alibaba.nacos.shaded.io.grpc.netty.shaded.io.netty.channel.socket.nio.NioSocketChannel.doReadBytes(NioSocketChannel.java:347) ~[nacos-client-2.0.4.jar:na]
	at com.alibaba.nacos.shaded.io.grpc.netty.shaded.io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:148) ~[nacos-client-2.0.4.jar:na]
	at com.alibaba.nacos.shaded.io.grpc.netty.shaded.io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:697) ~[nacos-client-2.0.4.jar:na]
	at com.alibaba.nacos.shaded.io.grpc.netty.shaded.io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:632) ~[nacos-client-2.0.4.jar:na]
	at com.alibaba.nacos.shaded.io.grpc.netty.shaded.io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:549) ~[nacos-client-2.0.4.jar:na]
	at com.alibaba.nacos.shaded.io.grpc.netty.shaded.io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:511) ~[nacos-client-2.0.4.jar:na]
	at com.alibaba.nacos.shaded.io.grpc.netty.shaded.io.netty.util.concurrent.SingleThreadEventExecutor$5.run(SingleThreadEventExecutor.java:918) ~[nacos-client-2.0.4.jar:na]
	at com.alibaba.nacos.shaded.io.grpc.netty.shaded.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[nacos-client-2.0.4.jar:na]
	at com.alibaba.nacos.shaded.io.grpc.netty.shaded.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[nacos-client-2.0.4.jar:na]
	... 1 common frames omitted

11:30:22:963  INFO 5980 --- [nacos-grpc-client-executor-180] com.alibaba.nacos.common.remote.client   : [bbee9e94-5571-47cc-aa05-593e29651fa3_config-0] Receive server push request, request = ClientDetectionRequest, requestId = 18
11:30:22:963  INFO 5980 --- [nacos-grpc-client-executor-180] com.alibaba.nacos.common.remote.client   : [bbee9e94-5571-47cc-aa05-593e29651fa3_config-0] Ack server push request, request = ClientDetectionRequest, requestId = 18
11:30:23:302  INFO 5980 --- [com.alibaba.nacos.client.remote.worker] com.alibaba.nacos.common.remote.client   : [48ce6328-8163-4ffe-b679-3a49ad202ae4] Success to connect a server [192.168.126.131:8848], connectionId = 1727148623128_192.168.126.1_28606
11:30:23:302  INFO 5980 --- [com.alibaba.nacos.client.remote.worker] com.alibaba.nacos.common.remote.client   : [48ce6328-8163-4ffe-b679-3a49ad202ae4] Abandon prev connection, server is 192.168.126.131:8848, connectionId is 1727147692668_192.168.126.1_52214
11:30:23:302  INFO 5980 --- [com.alibaba.nacos.client.remote.worker] com.alibaba.nacos.common.remote.client   : Close current connection 1727147692668_192.168.126.1_52214
11:30:23:306  INFO 5980 --- [com.alibaba.nacos.client.remote.worker] com.alibaba.nacos.common.remote.client   : [48ce6328-8163-4ffe-b679-3a49ad202ae4] Notify disconnected event to listeners
11:30:23:310  INFO 5980 --- [com.alibaba.nacos.client.remote.worker] com.alibaba.nacos.common.remote.client   : [48ce6328-8163-4ffe-b679-3a49ad202ae4] Notify connected event to listeners.
11:30:26:017  INFO 5980 --- [nacos-grpc-client-executor-183] com.alibaba.nacos.common.remote.client   : [48ce6328-8163-4ffe-b679-3a49ad202ae4] Receive server push request, request = NotifySubscriberRequest, requestId = 23
11:30:26:018  INFO 5980 --- [nacos-grpc-client-executor-183] com.alibaba.nacos.common.remote.client   : [48ce6328-8163-4ffe-b679-3a49ad202ae4] Ack server push request, request = NotifySubscriberRequest, requestId = 23
11:30:26:119  INFO 5980 --- [nacos-grpc-client-executor-184] com.alibaba.nacos.common.remote.client   : [48ce6328-8163-4ffe-b679-3a49ad202ae4] Receive server push request, request = NotifySubscriberRequest, requestId = 24
11:30:26:119  INFO 5980 --- [nacos-grpc-client-executor-184] com.alibaba.nacos.common.remote.client   : [48ce6328-8163-4ffe-b679-3a49ad202ae4] Ack server push request, request = NotifySubscriberRequest, requestId = 24
12:00:10:897  WARN 5980 --- [Thread-1] c.a.n.common.http.HttpClientBeanHolder   : [HttpClientBeanHolder] Start destroying common HttpClient
12:00:10:897  WARN 5980 --- [Thread-5] c.a.nacos.common.notify.NotifyCenter     : [NotifyCenter] Start destroying Publisher
12:00:10:897  WARN 5980 --- [Thread-5] c.a.nacos.common.notify.NotifyCenter     : [NotifyCenter] Destruction of the end
12:00:10:898  WARN 5980 --- [Thread-1] c.a.n.common.http.HttpClientBeanHolder   : [HttpClientBeanHolder] Destruction of the end
12:00:10:909  INFO 5980 --- [SpringApplicationShutdownHook] c.a.c.n.registry.NacosServiceRegistry    : De-registering from Nacos Server now...
12:00:10:915  INFO 5980 --- [SpringApplicationShutdownHook] c.a.c.n.registry.NacosServiceRegistry    : De-registration finished.
12:00:11:257  INFO 5980 --- [SpringApplicationShutdownHook] com.alibaba.nacos.common.remote.client   : Shutdown rpc client, set status to shutdown
12:00:11:259  INFO 5980 --- [SpringApplicationShutdownHook] com.alibaba.nacos.common.remote.client   : Shutdown client event executor java.util.concurrent.ScheduledThreadPoolExecutor@127dcd46[Running, pool size = 2, active threads = 2, queued tasks = 0, completed tasks = 0]
12:00:11:260  INFO 5980 --- [SpringApplicationShutdownHook] com.alibaba.nacos.common.remote.client   : Close current connection 1727148623128_192.168.126.1_28606
12:00:11:266  INFO 5980 --- [SpringApplicationShutdownHook] c.a.n.c.remote.client.grpc.GrpcClient    : Shutdown grpc executor java.util.concurrent.ThreadPoolExecutor@1b48e65c[Running, pool size = 4, active threads = 0, queued tasks = 0, completed tasks = 591]
16:06:24:087  INFO 3112 --- [main] com.hmall.gateway.GatewayApplication     : No active profile set, falling back to 1 default profile: "default"
16:06:25:791  INFO 3112 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=5ec3ccab-e2b1-3334-81ff-62e6edff165d
16:06:25:896  INFO 3112 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.cloud.client.loadbalancer.reactive.LoadBalancerBeanPostProcessorAutoConfiguration' of type [org.springframework.cloud.client.loadbalancer.reactive.LoadBalancerBeanPostProcessorAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
16:06:25:898  INFO 3112 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.cloud.client.loadbalancer.reactive.LoadBalancerBeanPostProcessorAutoConfiguration$ReactorDeferringLoadBalancerFilterConfig' of type [org.springframework.cloud.client.loadbalancer.reactive.LoadBalancerBeanPostProcessorAutoConfiguration$ReactorDeferringLoadBalancerFilterConfig] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
16:06:25:900  INFO 3112 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'reactorDeferringLoadBalancerExchangeFilterFunction' of type [org.springframework.cloud.client.loadbalancer.reactive.DeferringLoadBalancerExchangeFilterFunction] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
16:06:27:671 DEBUG 3112 --- [main] c.h.gateway.route.DynamicRouteLoader     : 监听到路由配置变更，[
    {
        "id": "item",
        "predicates": [{
            "name": "Path",
            "args": {"_genkey_0":"/items/**", "_genkey_1":"/search/**"}
        }],
        "filters": [],
        "uri": "lb://item-service"
    },
    {
        "id": "cart",
        "predicates": [{
            "name": "Path",
            "args": {"_genkey_0":"/carts/**"}
        }],
        "filters": [],
        "uri": "lb://cart-service"
    },
    {
        "id": "user",
        "predicates": [{
            "name": "Path",
            "args": {"_genkey_0":"/users/**", "_genkey_1":"/addresses/**"}
        }],
        "filters": [],
        "uri": "lb://user-service"
    },
    {
        "id": "trade",
        "predicates": [{
            "name": "Path",
            "args": {"_genkey_0":"/orders/**"}
        }],
        "filters": [],
        "uri": "lb://trade-service"
    },
    {
        "id": "pay",
        "predicates": [{
            "name": "Path",
            "args": {"_genkey_0":"/pay-orders/**"}
        }],
        "filters": [],
        "uri": "lb://pay-service"
    }
]
16:06:31:093  INFO 3112 --- [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [After]
16:06:31:094  INFO 3112 --- [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Before]
16:06:31:094  INFO 3112 --- [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Between]
16:06:31:094  INFO 3112 --- [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Cookie]
16:06:31:094  INFO 3112 --- [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Header]
16:06:31:095  INFO 3112 --- [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Host]
16:06:31:095  INFO 3112 --- [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Method]
16:06:31:095  INFO 3112 --- [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Path]
16:06:31:096  INFO 3112 --- [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Query]
16:06:31:096  INFO 3112 --- [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [ReadBody]
16:06:31:096  INFO 3112 --- [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [RemoteAddr]
16:06:31:096  INFO 3112 --- [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [XForwardedRemoteAddr]
16:06:31:096  INFO 3112 --- [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Weight]
16:06:31:096  INFO 3112 --- [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [CloudFoundryRouteService]
16:06:33:196  INFO 3112 --- [main] com.alibaba.nacos.common.remote.client   : [RpcClientFactory] create a new rpc client of d51c48b5-57e1-4bf4-92b9-bc3df3635945
16:06:33:197  INFO 3112 --- [main] com.alibaba.nacos.common.remote.client   : [d51c48b5-57e1-4bf4-92b9-bc3df3635945] RpcClient init label, labels = {module=naming, source=sdk}
16:06:33:204  INFO 3112 --- [main] com.alibaba.nacos.common.remote.client   : [d51c48b5-57e1-4bf4-92b9-bc3df3635945] RpcClient init, ServerListFactory = com.alibaba.nacos.client.naming.core.ServerListManager
16:06:33:204  INFO 3112 --- [main] com.alibaba.nacos.common.remote.client   : [d51c48b5-57e1-4bf4-92b9-bc3df3635945] Registry connection listener to current client:com.alibaba.nacos.client.naming.remote.gprc.redo.NamingGrpcRedoService
16:06:33:205  INFO 3112 --- [main] com.alibaba.nacos.common.remote.client   : [d51c48b5-57e1-4bf4-92b9-bc3df3635945] Register server push request handler:com.alibaba.nacos.client.naming.remote.gprc.NamingPushRequestHandler
16:06:33:206  INFO 3112 --- [main] com.alibaba.nacos.common.remote.client   : [d51c48b5-57e1-4bf4-92b9-bc3df3635945] Try to connect to server on start up, server: {serverIp = '192.168.126.131', server main port = 8848}
16:06:33:353  INFO 3112 --- [main] com.alibaba.nacos.common.remote.client   : [d51c48b5-57e1-4bf4-92b9-bc3df3635945] Success to connect to server [192.168.126.131:8848] on start up, connectionId = 1727165254881_192.168.126.1_58868
16:06:33:354  INFO 3112 --- [main] com.alibaba.nacos.common.remote.client   : [d51c48b5-57e1-4bf4-92b9-bc3df3635945] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
16:06:33:354  INFO 3112 --- [com.alibaba.nacos.client.remote.worker] com.alibaba.nacos.common.remote.client   : [d51c48b5-57e1-4bf4-92b9-bc3df3635945] Notify connected event to listeners.
16:06:33:355  INFO 3112 --- [main] com.alibaba.nacos.common.remote.client   : [d51c48b5-57e1-4bf4-92b9-bc3df3635945] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$462/0x0000000800443840
16:06:34:360  INFO 3112 --- [nacos-grpc-client-executor-7] com.alibaba.nacos.common.remote.client   : [d51c48b5-57e1-4bf4-92b9-bc3df3635945] Receive server push request, request = NotifySubscriberRequest, requestId = 1
16:06:34:377  INFO 3112 --- [nacos-grpc-client-executor-7] com.alibaba.nacos.common.remote.client   : [d51c48b5-57e1-4bf4-92b9-bc3df3635945] Ack server push request, request = NotifySubscriberRequest, requestId = 1
16:06:34:820  INFO 3112 --- [main] o.s.b.web.embedded.netty.NettyWebServer  : Netty started on port 8080
16:06:37:202  INFO 3112 --- [main] c.a.c.n.registry.NacosServiceRegistry    : nacos registry, DEFAULT_GROUP gateway 192.168.255.1:8080 register finished
16:06:37:248  INFO 3112 --- [main] com.hmall.gateway.GatewayApplication     : Started GatewayApplication in 24.171 seconds (JVM running for 35.951)
16:06:37:256  INFO 3112 --- [main] c.a.c.n.refresh.NacosContextRefresher    : [Nacos Config] Listening config: dataId=gateway.yaml, group=DEFAULT_GROUP
16:06:37:259  INFO 3112 --- [main] c.a.c.n.refresh.NacosContextRefresher    : [Nacos Config] Listening config: dataId=gateway, group=DEFAULT_GROUP
16:06:37:787  INFO 3112 --- [nacos-grpc-client-executor-13] com.alibaba.nacos.common.remote.client   : [d51c48b5-57e1-4bf4-92b9-bc3df3635945] Receive server push request, request = NotifySubscriberRequest, requestId = 2
16:06:37:810  INFO 3112 --- [nacos-grpc-client-executor-13] com.alibaba.nacos.common.remote.client   : [d51c48b5-57e1-4bf4-92b9-bc3df3635945] Ack server push request, request = NotifySubscriberRequest, requestId = 2
16:10:22:383  WARN 3112 --- [boundedElastic-1] o.s.c.l.core.RoundRobinLoadBalancer      : No servers available for service: user-service
16:10:22:953  INFO 3112 --- [nacos-grpc-client-executor-69] com.alibaba.nacos.common.remote.client   : [d51c48b5-57e1-4bf4-92b9-bc3df3635945] Receive server push request, request = NotifySubscriberRequest, requestId = 5
16:10:22:954  INFO 3112 --- [nacos-grpc-client-executor-69] com.alibaba.nacos.common.remote.client   : [d51c48b5-57e1-4bf4-92b9-bc3df3635945] Ack server push request, request = NotifySubscriberRequest, requestId = 5
16:10:26:357  WARN 3112 --- [boundedElastic-1] o.s.c.l.core.RoundRobinLoadBalancer      : No servers available for service: user-service
16:10:27:768  WARN 3112 --- [boundedElastic-1] o.s.c.l.core.RoundRobinLoadBalancer      : No servers available for service: user-service
16:10:44:460  INFO 3112 --- [nacos-grpc-client-executor-76] com.alibaba.nacos.common.remote.client   : [d51c48b5-57e1-4bf4-92b9-bc3df3635945] Receive server push request, request = NotifySubscriberRequest, requestId = 6
16:10:44:468  INFO 3112 --- [nacos-grpc-client-executor-76] com.alibaba.nacos.common.remote.client   : [d51c48b5-57e1-4bf4-92b9-bc3df3635945] Ack server push request, request = NotifySubscriberRequest, requestId = 6
16:13:05:053  INFO 3112 --- [nacos-grpc-client-executor-106] com.alibaba.nacos.common.remote.client   : [d51c48b5-57e1-4bf4-92b9-bc3df3635945] Receive server push request, request = NotifySubscriberRequest, requestId = 12
16:13:05:056  INFO 3112 --- [nacos-grpc-client-executor-106] com.alibaba.nacos.common.remote.client   : [d51c48b5-57e1-4bf4-92b9-bc3df3635945] Ack server push request, request = NotifySubscriberRequest, requestId = 12
16:13:38:838  INFO 3112 --- [nacos-grpc-client-executor-114] com.alibaba.nacos.common.remote.client   : [d51c48b5-57e1-4bf4-92b9-bc3df3635945] Receive server push request, request = NotifySubscriberRequest, requestId = 14
16:13:38:851  INFO 3112 --- [nacos-grpc-client-executor-114] com.alibaba.nacos.common.remote.client   : [d51c48b5-57e1-4bf4-92b9-bc3df3635945] Ack server push request, request = NotifySubscriberRequest, requestId = 14
16:13:56:363  INFO 3112 --- [nacos-grpc-client-executor-118] com.alibaba.nacos.common.remote.client   : [d51c48b5-57e1-4bf4-92b9-bc3df3635945] Receive server push request, request = NotifySubscriberRequest, requestId = 16
16:13:56:372  INFO 3112 --- [nacos-grpc-client-executor-118] com.alibaba.nacos.common.remote.client   : [d51c48b5-57e1-4bf4-92b9-bc3df3635945] Ack server push request, request = NotifySubscriberRequest, requestId = 16
16:15:16:703  WARN 3112 --- [Thread-1] c.a.n.common.http.HttpClientBeanHolder   : [HttpClientBeanHolder] Start destroying common HttpClient
16:15:16:704  WARN 3112 --- [Thread-5] c.a.nacos.common.notify.NotifyCenter     : [NotifyCenter] Start destroying Publisher
16:15:16:704  WARN 3112 --- [Thread-5] c.a.nacos.common.notify.NotifyCenter     : [NotifyCenter] Destruction of the end
16:15:16:705  WARN 3112 --- [Thread-1] c.a.n.common.http.HttpClientBeanHolder   : [HttpClientBeanHolder] Destruction of the end
16:15:16:723  INFO 3112 --- [SpringApplicationShutdownHook] c.a.c.n.registry.NacosServiceRegistry    : De-registering from Nacos Server now...
16:15:16:731  INFO 3112 --- [SpringApplicationShutdownHook] c.a.c.n.registry.NacosServiceRegistry    : De-registration finished.
16:15:17:066  INFO 3112 --- [SpringApplicationShutdownHook] com.alibaba.nacos.common.remote.client   : Shutdown rpc client, set status to shutdown
16:15:17:066  INFO 3112 --- [SpringApplicationShutdownHook] com.alibaba.nacos.common.remote.client   : Shutdown client event executor java.util.concurrent.ScheduledThreadPoolExecutor@1c94fb1e[Running, pool size = 2, active threads = 2, queued tasks = 0, completed tasks = 0]
16:15:17:066  INFO 3112 --- [SpringApplicationShutdownHook] com.alibaba.nacos.common.remote.client   : Close current connection 1727165254881_192.168.126.1_58868
16:15:17:068  INFO 3112 --- [nacos-grpc-client-executor-136] c.a.n.c.remote.client.grpc.GrpcClient    : [1727165254881_192.168.126.1_58868]Ignore complete event,isRunning:false,isAbandon=false
16:15:17:075  INFO 3112 --- [SpringApplicationShutdownHook] c.a.n.c.remote.client.grpc.GrpcClient    : Shutdown grpc executor java.util.concurrent.ThreadPoolExecutor@f082323[Running, pool size = 5, active threads = 0, queued tasks = 0, completed tasks = 137]
16:15:29:338  INFO 20676 --- [main] com.hmall.gateway.GatewayApplication     : No active profile set, falling back to 1 default profile: "default"
16:15:29:913  INFO 20676 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=5ec3ccab-e2b1-3334-81ff-62e6edff165d
16:15:29:953  INFO 20676 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.cloud.client.loadbalancer.reactive.LoadBalancerBeanPostProcessorAutoConfiguration' of type [org.springframework.cloud.client.loadbalancer.reactive.LoadBalancerBeanPostProcessorAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
16:15:29:954  INFO 20676 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.cloud.client.loadbalancer.reactive.LoadBalancerBeanPostProcessorAutoConfiguration$ReactorDeferringLoadBalancerFilterConfig' of type [org.springframework.cloud.client.loadbalancer.reactive.LoadBalancerBeanPostProcessorAutoConfiguration$ReactorDeferringLoadBalancerFilterConfig] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
16:15:29:955  INFO 20676 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'reactorDeferringLoadBalancerExchangeFilterFunction' of type [org.springframework.cloud.client.loadbalancer.reactive.DeferringLoadBalancerExchangeFilterFunction] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
16:15:30:614 DEBUG 20676 --- [main] c.h.gateway.route.DynamicRouteLoader     : 监听到路由配置变更，[
    {
        "id": "item",
        "predicates": [{
            "name": "Path",
            "args": {"_genkey_0":"/items/**", "_genkey_1":"/search/**"}
        }],
        "filters": [],
        "uri": "lb://item-service"
    },
    {
        "id": "cart",
        "predicates": [{
            "name": "Path",
            "args": {"_genkey_0":"/carts/**"}
        }],
        "filters": [],
        "uri": "lb://cart-service"
    },
    {
        "id": "user",
        "predicates": [{
            "name": "Path",
            "args": {"_genkey_0":"/users/**", "_genkey_1":"/addresses/**"}
        }],
        "filters": [],
        "uri": "lb://user-service"
    },
    {
        "id": "trade",
        "predicates": [{
            "name": "Path",
            "args": {"_genkey_0":"/orders/**"}
        }],
        "filters": [],
        "uri": "lb://trade-service"
    },
    {
        "id": "pay",
        "predicates": [{
            "name": "Path",
            "args": {"_genkey_0":"/pay-orders/**"}
        }],
        "filters": [],
        "uri": "lb://pay-service"
    }
]
16:15:31:721  INFO 20676 --- [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [After]
16:15:31:722  INFO 20676 --- [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Before]
16:15:31:722  INFO 20676 --- [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Between]
16:15:31:722  INFO 20676 --- [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Cookie]
16:15:31:722  INFO 20676 --- [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Header]
16:15:31:722  INFO 20676 --- [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Host]
16:15:31:723  INFO 20676 --- [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Method]
16:15:31:723  INFO 20676 --- [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Path]
16:15:31:723  INFO 20676 --- [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Query]
16:15:31:723  INFO 20676 --- [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [ReadBody]
16:15:31:723  INFO 20676 --- [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [RemoteAddr]
16:15:31:723  INFO 20676 --- [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [XForwardedRemoteAddr]
16:15:31:723  INFO 20676 --- [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [Weight]
16:15:31:724  INFO 20676 --- [main] o.s.c.g.r.RouteDefinitionRouteLocator    : Loaded RoutePredicateFactory [CloudFoundryRouteService]
16:15:32:580  INFO 20676 --- [main] com.alibaba.nacos.common.remote.client   : [RpcClientFactory] create a new rpc client of 1ed482fb-1d86-4fcf-98de-97b7b295366e
16:15:32:582  INFO 20676 --- [main] com.alibaba.nacos.common.remote.client   : [1ed482fb-1d86-4fcf-98de-97b7b295366e] RpcClient init label, labels = {module=naming, source=sdk}
16:15:32:585  INFO 20676 --- [main] com.alibaba.nacos.common.remote.client   : [1ed482fb-1d86-4fcf-98de-97b7b295366e] RpcClient init, ServerListFactory = com.alibaba.nacos.client.naming.core.ServerListManager
16:15:32:586  INFO 20676 --- [main] com.alibaba.nacos.common.remote.client   : [1ed482fb-1d86-4fcf-98de-97b7b295366e] Registry connection listener to current client:com.alibaba.nacos.client.naming.remote.gprc.redo.NamingGrpcRedoService
16:15:32:587  INFO 20676 --- [main] com.alibaba.nacos.common.remote.client   : [1ed482fb-1d86-4fcf-98de-97b7b295366e] Register server push request handler:com.alibaba.nacos.client.naming.remote.gprc.NamingPushRequestHandler
16:15:32:587  INFO 20676 --- [main] com.alibaba.nacos.common.remote.client   : [1ed482fb-1d86-4fcf-98de-97b7b295366e] Try to connect to server on start up, server: {serverIp = '192.168.126.131', server main port = 8848}
16:15:32:734  INFO 20676 --- [main] com.alibaba.nacos.common.remote.client   : [1ed482fb-1d86-4fcf-98de-97b7b295366e] Success to connect to server [192.168.126.131:8848] on start up, connectionId = 1727165794266_192.168.126.1_6448
16:15:32:735  INFO 20676 --- [main] com.alibaba.nacos.common.remote.client   : [1ed482fb-1d86-4fcf-98de-97b7b295366e] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
16:15:32:735  INFO 20676 --- [com.alibaba.nacos.client.remote.worker] com.alibaba.nacos.common.remote.client   : [1ed482fb-1d86-4fcf-98de-97b7b295366e] Notify connected event to listeners.
16:15:32:736  INFO 20676 --- [main] com.alibaba.nacos.common.remote.client   : [1ed482fb-1d86-4fcf-98de-97b7b295366e] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$461/0x0000000800446440
16:15:33:255  INFO 20676 --- [main] o.s.b.web.embedded.netty.NettyWebServer  : Netty started on port 8080
16:15:33:339  INFO 20676 --- [nacos-grpc-client-executor-4] com.alibaba.nacos.common.remote.client   : [1ed482fb-1d86-4fcf-98de-97b7b295366e] Receive server push request, request = NotifySubscriberRequest, requestId = 18
16:15:33:347  INFO 20676 --- [nacos-grpc-client-executor-4] com.alibaba.nacos.common.remote.client   : [1ed482fb-1d86-4fcf-98de-97b7b295366e] Ack server push request, request = NotifySubscriberRequest, requestId = 18
16:15:34:147  INFO 20676 --- [main] c.a.c.n.registry.NacosServiceRegistry    : nacos registry, DEFAULT_GROUP gateway 192.168.255.1:8080 register finished
16:15:34:165  INFO 20676 --- [main] com.hmall.gateway.GatewayApplication     : Started GatewayApplication in 8.547 seconds (JVM running for 9.879)
16:15:34:168  INFO 20676 --- [main] c.a.c.n.refresh.NacosContextRefresher    : [Nacos Config] Listening config: dataId=gateway.yaml, group=DEFAULT_GROUP
16:15:34:169  INFO 20676 --- [main] c.a.c.n.refresh.NacosContextRefresher    : [Nacos Config] Listening config: dataId=gateway, group=DEFAULT_GROUP
16:15:34:795  INFO 20676 --- [nacos-grpc-client-executor-8] com.alibaba.nacos.common.remote.client   : [1ed482fb-1d86-4fcf-98de-97b7b295366e] Receive server push request, request = NotifySubscriberRequest, requestId = 19
16:15:34:809  INFO 20676 --- [nacos-grpc-client-executor-8] com.alibaba.nacos.common.remote.client   : [1ed482fb-1d86-4fcf-98de-97b7b295366e] Ack server push request, request = NotifySubscriberRequest, requestId = 19
16:16:52:839  INFO 20676 --- [nacos-grpc-client-executor-27] com.alibaba.nacos.common.remote.client   : [1ed482fb-1d86-4fcf-98de-97b7b295366e] Receive server push request, request = NotifySubscriberRequest, requestId = 21
16:16:52:839  INFO 20676 --- [nacos-grpc-client-executor-27] com.alibaba.nacos.common.remote.client   : [1ed482fb-1d86-4fcf-98de-97b7b295366e] Ack server push request, request = NotifySubscriberRequest, requestId = 21
16:17:19:366  INFO 20676 --- [nacos-grpc-client-executor-36] com.alibaba.nacos.common.remote.client   : [1ed482fb-1d86-4fcf-98de-97b7b295366e] Receive server push request, request = NotifySubscriberRequest, requestId = 23
16:17:19:367  INFO 20676 --- [nacos-grpc-client-executor-36] com.alibaba.nacos.common.remote.client   : [1ed482fb-1d86-4fcf-98de-97b7b295366e] Ack server push request, request = NotifySubscriberRequest, requestId = 23
